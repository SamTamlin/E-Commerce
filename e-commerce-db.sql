CREATE DATABASE "e-commerce";

CREATE TABLE IF NOT EXISTS user_account (
    id SERIAL PRIMARY KEY NOT NULL,
    username VARCHAR(20) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    password VARCHAR(100) NOT NULL
);

INSERT INTO user_account (username, email, first_name, last_name, password)
    VALUES
        ('msimmank0', 'msimmank0@jalbum.net', 'Mary', 'Simmank', '$2a$10$ZfiOzJlYYzo/aC72W03BweGsAlr9RjYr8bwTXMCJC4ntNDe9FwwJW'),
        ('atennison1', 'atennison1@tiny.cc', 'Adriaens', 'Tennison', '$2a$10$8gGing6UkQq8aQVly2Jpb.WJTrhGYkR1kyEp54/3xs/FaEastoEwq'),
        ('jhaselwood2', 'jhaselwood2@tinypic.com', 'Joye', 'Haselwood', '$2a$10$EFFai4b0Z1gEGO0DsDDT9eZOblCnaPpRMJJmUSTUSr5XYr/8qeASO'),
        ('dposten3', 'dposten3@sciencedirect.com', 'Dom', 'Posten', '$2a$10$N0Bsr8qE7xStq5Z5vFO1L.jX1i62UCKji6h.fan6Sewdrkr91daKu'),
        ('sclouston4', 'sclouston4@histats.com', 'Shelly', 'Clouston', '$2a$10$0XB8hyc5YGXthR.m42JEgeWVpT1EK9D5ajrlFeiesSI4MnqtDolcW'),
        ('bswinney5', 'bswinney5@google.cn', 'Becka', 'Swinney', '$2a$10$Aqur26dugV2AqXhfBPFyoubGqW1ZR7ybbdr0xCnhy4NuXMrZMzyi.'),
        ('pferrick6', 'pferrick6@wordpress.org', 'Philippe', 'Ferrick', '$2a$10$n51M4Gbat3LU//Hj3Vwfz.bU3iurVG2tUtOtj6fGu5E4yPjhHXESe'),
        ('cgrimoldby7', 'cgrimoldby7@businesswire.com', 'Chickie', 'Grimoldby', '$2a$10$hs0IxX1YxMY9KCCXKWG0qunA225olS1WcQsIrMKeOWF.Bq9oUTQTi'),
        ('esaphin8', 'esaphin8@google.ca', 'Elsa', 'Saphin', '$2a$10$oxiMPVzOeqf0v2cj3Al.u.n6UzpMEUsNu2ZO3NZabxlnupPX.TIh6'),
        ('fpavese9', 'fpavese9@cmu.edu', 'Fonz', 'Pavese', '$2a$10$LDPbZhP/cRqeYwB6l68TzeOoi6fYeGlPDVpDqg6Q4QMW6A8XnB8Aa');

CREATE TABLE IF NOT EXISTS product (
    id SERIAL PRIMARY KEY NOT NULL,
    name VARCHAR(100) NOT NULL,
    price NUMERIC(5,2) NOT NULL
);

INSERT INTO product (name, price)
    VALUES
        ('Turnip - White, Organic', 0.87),
        ('Cake - Mini Cheesecake Cherry', 4.94),
        ('Broccoli - Fresh', 1.18),
        ('Mushrooms - Black, Dried', 2.73),
        ('Muffin - Blueberry Individual', 0.98),
        ('Cheese - Gouda Smoked', 3.92),
        ('Mousse - Mango', 1.00),
        ('Pork - Ham Hocks - Smoked', 2.63),
        ('Cookies Cereal Nut', 0.97),
        ('Clams - Canned', 3.16),
        ('Rice - Brown', 2.46),
        ('Temperature Recording Station', 2.36),
        ('Tea - Jasmin Green', 2.82),
        ('Cheese - Marble', 4.27),
        ('Wine - Magnotta - Cab Sauv', 2.93),
        ('Lid - Translucent, 3.5 And 6 Oz', 4.87),
        ('Artichokes - Knobless, White', 1.94),
        ('Table Cloth 53x53 White', 0.77),
        ('Lettuce - Curly Endive', 1.42),
        ('Liqueur - Melon', 0.08),
        ('Ecolab - Hand Soap Form Antibac', 3.76),
        ('Cheese - Gouda', 2.43),
        ('Sobe - Liz Blizz', 3.97),
        ('Mushroom - Morels, Dry', 2.56),
        ('Olive - Spread Tapenade', 0.82),
        ('Chick Peas - Canned', 3.68),
        ('Spring Roll Veg Mini', 2.84),
        ('Wine - Ruffino Chianti Classico', 4.49),
        ('Tart - Lemon', 1.83),
        ('Bulgar', 1.79),
        ('Chick Peas - Canned', 0.68),
        ('Lettuce - Sea / Sea Asparagus', 3.94),
        ('Cheese - Pont Couvert', 4.38),
        ('Muffin Batt - Ban Dream Zero', 2.61),
        ('Placemat - Scallop, White', 3.33),
        ('Turkey - Breast, Boneless Sk On', 4.21),
        ('Flour - Bread', 0.74),
        ('Absolut Citron', 2.35),
        ('Mushroom - Shitake, Fresh', 4.87),
        ('Wine - Sauvignon Blanc Oyster', 3.41);


CREATE TABLE IF NOT EXISTS customer_basket(
    id SERIAL PRIMARY KEY NOT NULL,
    user_account_id INT REFERENCES user_account(id)
);

INSERT INTO customer_basket (user_account_id)
    VALUES 
        (2),
        (7),
        (9),
        (7),
        (9),
        (10),
        (2),
        (3),
        (10),
        (9),
        (2),
        (1),
        (5),
        (2),
        (2),
        (4),
        (2),
        (2),
        (9),
        (6),
        (7),
        (9),
        (10),
        (3),
        (5),
        (8),
        (3),
        (9),
        (5),
        (8),
        (1),
        (1),
        (1),
        (10),
        (5),
        (6),
        (2),
        (8),
        (1),
        (2),
        (9),
        (5),
        (2),
        (7),
        (5),
        (5),
        (2),
        (9),
        (1),
        (6);

CREATE TABLE IF NOT EXISTS customer_order(
    id INTEGER PRIMARY KEY NOT NULL,
    user_account_id INT REFERENCES user_account(id)
);

INSERT INTO customer_order (id, user_account_id)
    VALUES 
        (2, 7),
        (4, 7),
        (8, 3),
        (9, 10),
        (11, 2),
        (13, 5),
        (14, 2),
        (20, 6),
        (21, 7),
        (22, 9),
        (26, 8),
        (27, 3),
        (29, 5),
        (30, 8),
        (32, 1),
        (34, 10),
        (35, 5),
        (39, 1),
        (43, 2),
        (45, 5),
        (48, 9),
        (49, 1),
        (50, 6);

DELETE FROM customer_basket WHERE id = (2);
DELETE FROM customer_basket WHERE id = (4);
DELETE FROM customer_basket WHERE id = (8);
DELETE FROM customer_basket WHERE id = (9);
DELETE FROM customer_basket WHERE id = (11);
DELETE FROM customer_basket WHERE id = (13);
DELETE FROM customer_basket WHERE id = (14);
DELETE FROM customer_basket WHERE id = (20);
DELETE FROM customer_basket WHERE id = (21);
DELETE FROM customer_basket WHERE id = (22);
DELETE FROM customer_basket WHERE id = (26);
DELETE FROM customer_basket WHERE id = (27);
DELETE FROM customer_basket WHERE id = (29);
DELETE FROM customer_basket WHERE id = (30);
DELETE FROM customer_basket WHERE id = (32);
DELETE FROM customer_basket WHERE id = (34);
DELETE FROM customer_basket WHERE id = (35);
DELETE FROM customer_basket WHERE id = (39);
DELETE FROM customer_basket WHERE id = (43);
DELETE FROM customer_basket WHERE id = (45);
DELETE FROM customer_basket WHERE id = (48);
DELETE FROM customer_basket WHERE id = (49);
DELETE FROM customer_basket WHERE id = (50);


CREATE TABLE IF NOT EXISTS product_basket(
    customer_basket_id INT REFERENCES customer_basket(id),
    product_id INT REFERENCES product(id),
    quantity INT NOT NULL,
    PRIMARY KEY (customer_basket_id, product_id)
);

INSERT INTO product_basket (customer_basket_id, product_id, quantity)
    VALUES
        (17, 20, 3),
        (16, 33, 1),
        (41, 12, 4),
        (23, 27, 3),
        (7, 8, 6),
        (37, 4, 4),
        (15, 25, 6),
        (41, 19, 2),
        (16, 24, 1),
        (5, 10, 2),
        (7, 33, 2),
        (47, 12, 4),
        (6, 19, 3),
        (10, 16, 1),
        (19, 29, 6),
        (10, 4, 3),
        (5, 1, 5),
        (12, 1, 2),
        (23, 14, 4),
        (46, 15, 6),
        (25, 9, 3),
        (6, 30, 1),
        (12, 40, 1),
        (5, 34, 6),
        (6, 3, 6),
        (33, 8, 5),
        (25, 16, 5),
        (6, 20, 1),
        (36, 28, 1),
        (25, 29, 4),
        (17, 31, 5),
        (42, 21, 4),
        (18, 3, 2),
        (12, 10, 3),
        (3, 1, 3),
        (24, 31, 5),
        (44, 33, 2),
        (28, 17, 2),
        (31, 24, 1),
        (40, 23, 1),
        (18, 24, 1),
        (3, 10, 4),
        (10, 22, 3),
        (23, 28, 1),
        (19, 14, 1),
        (36, 33, 2),
        (36, 6, 4),
        (3, 19, 5),
        (18, 12, 3),
        (31, 19, 6),
        (6, 35, 6),
        (46, 5, 3),
        (7, 21, 3),
        (33, 40, 3),
        (5, 11, 4),
        (12, 24, 5),
        (17, 32, 1),
        (3, 29, 1),
        (18, 22, 3),
        (7, 37, 6),
        (7, 36, 5),
        (6, 13, 5),
        (28, 15, 3),
        (33, 15, 3),
        (1, 13, 3),
        (28, 29, 3),
        (1, 8, 2),
        (25, 20, 5),
        (37, 5, 3),
        (41, 26, 5),
        (23, 24, 6),
        (19, 2, 1),
        (7, 18, 4),
        (3, 12, 4),
        (18, 13, 6),
        (37, 17, 6),
        (5, 37, 4),
        (10, 8, 3),
        (10, 29, 1),
        (3, 25, 4),
        (16, 3, 2),
        (33, 9, 5),
        (24, 28, 3),
        (38, 13, 4),
        (44, 13, 5),
        (46, 17, 3),
        (36, 20, 2),
        (19, 13, 5),
        (18, 40, 1),
        (17, 24, 3),
        (5, 14, 3),
        (18, 17, 6),
        (15, 29, 6),
        (37, 33, 5),
        (42, 31, 1),
        (46, 25, 1),
        (23, 21, 2),
        (16, 34, 6),
        (47, 10, 3),
        (36, 17, 4),
        (31, 9, 4),
        (44, 35, 1),
        (6, 9, 5),
        (3, 24, 1),
        (15, 32, 5),
        (38, 23, 1),
        (46, 1, 2),
        (19, 4, 4),
        (28, 35, 5),
        (41, 5, 2),
        (24, 21, 4),
        (10, 32, 4),
        (12, 35, 1),
        (36, 18, 3),
        (40, 6, 1),
        (46, 29, 2);


CREATE TABLE IF NOT EXISTS product_order(
    customer_order_id INT REFERENCES customer_order(id),
    product_id INT REFERENCES product(id),
    quantity INT NOT NULL,
    PRIMARY KEY (customer_order_id, product_id)
);

INSERT INTO product_order (customer_order_id, product_id, quantity)
    VALUES
        (13, 25, 5),
        (2, 15, 2),
	    (13, 5, 2),
	    (43, 21, 1),
        (29, 33, 5),
        (21, 27, 5),
        (2, 12, 6),
        (2, 38, 1),
        (43, 24, 6),
        (9, 32, 3),
        (4, 38, 1),
        (34, 16, 1),
        (35, 36, 5),
        (35, 8, 2),
        (27, 22, 2),
        (48, 24, 5),
        (34, 33, 2),
        (48, 34, 5),
        (39, 31, 5),
        (20, 5, 1),
        (4, 4, 2),
        (9, 28, 6),
        (43, 18, 3),
        (35, 9, 4),
        (43, 10, 4),
        (27, 31, 3),
        (45, 17, 4),
        (27, 34, 1),
        (9, 37, 3),
        (21, 9, 5),
        (26, 20, 4),
        (32, 9, 5),
        (39, 26, 3),
        (13, 2, 1),
        (34, 28, 6),
        (30, 15, 6),
        (14, 28, 1),
        (43, 25, 5),
        (43, 26, 4),
        (14, 19, 5),
        (30, 35, 1),
        (21, 30, 5),
        (21, 10, 3),
        (29,  14, 4),
        (29, 25, 2),
        (21, 35, 5),
        (8, 21, 1),
        (21, 7, 3),
        (2, 7, 6),
        (35, 24, 6),
        (34, 35, 1),
        (48, 26, 6),
        (4, 36, 2),
        (21, 12, 3),
        (39, 39, 4),
        (34, 8, 2),
        (43, 11, 2),
        (8, 29, 2),
        (35, 7, 3),
        (11, 2, 3),
        (2, 40, 5),
        (26, 40, 3),
        (39, 40, 5),
        (48, 19, 2),
        (45, 12, 4),
        (27, 40, 6),
        (45, 5, 2),
        (8, 15, 3),
        (2, 24, 3),
        (35, 1, 2),
        (35, 10, 5),
        (50, 20, 4),
        (30, 8, 3),
        (4, 25, 3),
        (8, 5, 6),
        (2, 14, 5),
        (39, 15, 2),
        (4, 40, 5),
        (13, 22, 6),
        (14, 14, 1),
        (22, 34, 2),
        (35, 29, 4),
        (11, 37, 4),
        (50, 31, 6);
        